(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{26:function(e,a,t){e.exports=t(62)},31:function(e,a,t){},32:function(e,a,t){},33:function(e,a,t){},34:function(e,a,t){},35:function(e,a,t){},36:function(e,a,t){},37:function(e,a,t){},62:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(8),s=t.n(c),o=t(1),l=t(2),i=t(4),u=t(3),m=(t(31),function(e){Object(i.a)(t,e);var a=Object(u.a)(t);function t(){var e;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=a.call.apply(a,[this].concat(r))).state={value:""},e.onSearch=function(a){e.setState({value:a.target.value}),e.props.changeSearchValue(a.target.value)},e}return Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"header"},r.a.createElement("div",{className:"main-user"},r.a.createElement("img",{id:"main-user",alt:"Main User",src:"https://agapova.kh.ua/wp-content/uploads/2018/11/user.png"}),r.a.createElement("i",{id:"i2",className:"far fa-check-circle"}),r.a.createElement("h2",null,"Oleksandr Ponomarenko")),r.a.createElement("div",{className:"search clearfix"},r.a.createElement("button",{className:"search__photo"},r.a.createElement("i",{class:"fas fa-search"})),r.a.createElement("input",{type:"search",placeholder:"Search",value:this.state.value,onChange:this.onSearch})))}}]),t}(n.Component)),p=(t(32),function(e){Object(i.a)(t,e);var a=Object(u.a)(t);function t(){return Object(o.a)(this,t),a.apply(this,arguments)}return Object(l.a)(t,[{key:"render",value:function(){var e=this.props,a=e.name,t=e.avatar,n=e.content,c=e.id,s=e.switchUser,o=e.currUser,l="contact";return c===o&&(l+=" selected"),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:l,onClick:function(){s(c)}},r.a.createElement("img",{alt:"",src:t}),r.a.createElement("i",{id:"i1",className:"far fa-check-circle"}),r.a.createElement("div",null,r.a.createElement("div",{style:{display:"flex",width:"250px"}},r.a.createElement("h3",null,a),r.a.createElement("span",{className:"message-date"}," ",n[n.length-1].date.toLocaleString()," ")),r.a.createElement("p",{className:"last-message"}," ",n[n.length-1].message.length<25?n[n.length-1].message:n[n.length-1].message.substr(0,24)+"..."," "))))}}]),t}(n.Component)),d=function(e){Object(i.a)(t,e);var a=Object(u.a)(t);function t(){var e;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=a.call.apply(a,[this].concat(r))).state={selected:e.props.currUser},e}return Object(l.a)(t,[{key:"render",value:function(){var e=this.props,a=e.users,t=e.search,n=e.switchUser,c=e.currUser,s=[],o=0;return s=""===t?a.map((function(e){return o++,r.a.createElement(p,Object.assign({key:o,id:o},e,{switchUser:n,currUser:c}))})):a.map((function(e){if(o++,-1!==e.name.toUpperCase().search(t.toUpperCase()))return r.a.createElement(p,Object.assign({key:o,id:o},e,{switchUser:n,currUser:c}))})),r.a.createElement("div",null,r.a.createElement("h2",{style:{marginLeft:"17px"}}," Chats "),s)}}]),t}(n.Component),h=(t(33),function(e){Object(i.a)(t,e);var a=Object(u.a)(t);function t(){return Object(o.a)(this,t),a.apply(this,arguments)}return Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"users"},r.a.createElement(m,this.props),r.a.createElement(d,Object.assign({},this.props,{currUser:this.props.selectedUser})))}}]),t}(n.Component)),f=(t(34),function(e){Object(i.a)(t,e);var a=Object(u.a)(t);function t(){return Object(o.a)(this,t),a.apply(this,arguments)}return Object(l.a)(t,[{key:"render",value:function(){var e=this.props,a=e.avatar,t=e.name;return r.a.createElement("div",{className:"header-content"},r.a.createElement("div",{className:"chat-header"},r.a.createElement("img",{alt:"",src:a,id:"s1"}),r.a.createElement("i",{id:"i2",className:"far fa-check-circle"}),r.a.createElement("h4",null,t)))}}]),t}(n.Component)),v=(t(35),function(e){Object(i.a)(t,e);var a=Object(u.a)(t);function t(){var e;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=a.call.apply(a,[this].concat(r))).scrollToBottom=function(){var a=s.a.findDOMNode(e.messagesContainer);a.scrollTop=a.scrollHeight},e}return Object(l.a)(t,[{key:"componentDidMount",value:function(){this.scrollToBottom()}},{key:"componentDidUpdate",value:function(){this.scrollToBottom()}},{key:"render",value:function(){var e=this,a=this.props,t=a.content,n=a.avatar,c=t.map((function(e){return"to_me"===e.id?r.a.createElement("div",{className:"message"},r.a.createElement("img",{id:"avatar",src:n,alt:""}),r.a.createElement("div",{className:"left"},r.a.createElement("span",null," ",e.message," ")),r.a.createElement("span",{className:"date"}," ",e.date.toLocaleString()," ")):r.a.createElement("div",{className:"message"},r.a.createElement("div",{className:"right"},r.a.createElement("span",null," ",e.message," ")),r.a.createElement("span",{className:"date"}," ",e.date.toLocaleString()," "))}));return r.a.createElement("div",{className:"chat-history",ref:function(a){e.messagesContainer=a}},c)}}]),t}(n.Component)),g=(t(36),function(e){Object(i.a)(t,e);var a=Object(u.a)(t);function t(){var e;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=a.call.apply(a,[this].concat(r))).state={value:""},e.changeValue=function(a){e.setState({value:a.target.value})},e.sendMessage=function(){if(""!==e.state.value){var a=new Date;e.props.sendMessage({num:e.props.selectedUser,id:"from_me",date:a.toLocaleString(),message:e.state.value}),e.setState({value:""}),e.props.sendMessageToMe(e.props.selectedUser)}else alert("Input a message!")},e}return Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"input"},r.a.createElement("input",{value:this.state.value,onChange:this.changeValue,placeholder:"Type your message"}),r.a.createElement("button",{onClick:this.sendMessage},r.a.createElement("i",{class:"fas fa-paper-plane"})))}}]),t}(n.Component)),E=(t(37),function(e){Object(i.a)(t,e);var a=Object(u.a)(t);function t(){return Object(o.a)(this,t),a.apply(this,arguments)}return Object(l.a)(t,[{key:"render",value:function(){var e=this.props,a=e.users,t=e.selectedUser;return r.a.createElement("div",{className:"chat"},r.a.createElement(f,a[t-1]),r.a.createElement(v,a[t-1]),r.a.createElement(g,Object.assign({},a[t-1],this.props)))}}]),t}(n.Component)),b=t(7),O=t(9),j=t(44),y=function(e){return{type:"CHANGE_SEARCH_VALUE",payload:e}},S=function(e){return{type:"SWITCH_USER",payload:e}},k=function(e){return{type:"SEND_MESSAGE",payload:e}},C=function(e){return function(a){var t=new Date;j.get("https://api.chucknorris.io/jokes/random").then((function(n){console.log(n.data);var r={num:e,id:"to_me",message:n.data.value,date:t.toLocaleString()};setTimeout((function(){return a({type:"SEND_MESSAGE_TO_ME_SUCCESS",payload:r})}),1e3)}))}};var w=Object(O.b)((function(e){var a=[];return e.users.forEach((function(e){return a.push(e)})),{users:a,search:e.searchValue,selectedUser:e.selectedUser}}),(function(e){return{changeSearchValue:Object(b.bindActionCreators)(y,e),switchUser:Object(b.bindActionCreators)(S,e),sendMessage:Object(b.bindActionCreators)(k,e),sendMessageToMe:Object(b.bindActionCreators)(C,e)}}))((function(e){return r.a.createElement("div",{className:"container"},r.a.createElement(h,e),r.a.createElement(E,e))})),N=t(13),U=t(6),_={searchValue:"",users:[{name:"Igor Igor",avatar:"https://tutkatamka.com.ua/wp-content/uploads/2018/02/1-74.jpg",content:[{id:"to_me",message:"Quickly come to the meeting room 1B, we have a big server issue",date:new Date(2020,5,4,17,49,23)},{id:"from_me",message:"I am having breakfest right now, can't you wait for 10 minutes?",date:new Date(2020,5,4,17,53,17)},{id:"to_me",message:"We are losing money! Quick!",date:new Date(2020,5,4,17,54,52)}]},{name:"hy",avatar:"https://tutkatamka.com.ua/wp-content/uploads/2018/02/3-70.jpg",date:new Date(2020,4,16,12,33,10),content:[{id:"to_me",message:"Hello!",date:new Date(2020,5,2,11,59,3)},{id:"from_me",message:"Hi , how are you?",date:new Date(2020,5,2,14,53,17)},{id:"to_me",message:"Fine! And you?",date:new Date(2020,5,2,20,4,12)}]}],selectedUser:1},A=t(24),M=t(25),D=Object(b.createStore)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"CHANGE_SEARCH_VALUE":return Object(U.a)(Object(U.a)({},e),{},{searchValue:a.payload});case"SWITCH_USER":return Object(U.a)(Object(U.a)({},e),{},{selectedUser:a.payload});case"SEND_MESSAGE":var t=e.users.map((function(e,t){return t+1===a.payload.num?Object(U.a)(Object(U.a)({},e),{},{content:[].concat(Object(N.a)(e.content),[{id:a.payload.id,message:a.payload.message,date:a.payload.date}])}):e}));return Object(U.a)(Object(U.a)({},e),{},{users:t});case"SEND_MESSAGE_TO_ME_SUCCESS":var n=e.users.map((function(e,t){return t+1===a.payload.num?Object(U.a)(Object(U.a)({},e),{},{content:[].concat(Object(N.a)(e.content),[{id:a.payload.id,message:a.payload.message,date:a.payload.date}])}):e}));return Object(U.a)(Object(U.a)({},e),{},{users:n});default:return e}}),Object(A.composeWithDevTools)(Object(b.applyMiddleware)(M.a)));s.a.render(r.a.createElement(O.a,{store:D},r.a.createElement(w,null)),document.getElementById("root"))}},[[26,1,2]]]);
//# sourceMappingURL=main.175eb9c7.chunk.js.map